digraph commy {
	newrank=true
	ranksep=.75; size = "7.5,7.5";
	fontname=Helvetica;
	rankdir=TB;
	node [shape=plaintext, fontsize=16, fontname=Helvetica];

	/* Шкала времени */
	subgraph Years{
		1987 -> 1988 -> 1989 -> 
		1990 -> 1991 -> 1992 -> 1993 -> 1994 -> 1995 -> 1996 -> 1997 -> 1998 -> 1999 ->
		2000 -> 2001 -> 2002 -> 2003 -> 2004 -> 2005 -> 2006 -> 2007 -> 2008 -> 2009 ->
		2010 -> 2011 -> 2012 -> 2013 -> 2014 -> 2015 -> 2016;
	}

	node [shape=box, fontsize=16, fontname=Helvetica];

	{ rank = same; 1987; CP, "ПДП", "ФСОК" }
	{ rank = same; 1988; "СНС", "АССА", SCI }
	{ rank = same; 1989; "АКРС", UM, "АССА89", CPWP, "ХР", КАС}
	{ rank = same; 1990; "АДА", "АДС", "РПЯ", OKIV, "МРП/ПДП", "СРАМ", "ФАД" }
	{ rank = same; 1991;  "РПЯ91", SWS, "МРП", "РПДП", "ДРП", "ИРЕАН", "МАКИ", "ДРСА"}
	{ rank = same; 1992; "КРДМС92", "РПЯ92", "ПДП92", "РП", "РРПДП", "АДА91" }
	{ rank = same; 1993; "КРДМС93", "КРИ", "РПЯ93", "МРП93", "СВТ", "АДА93"}
	{ rank = same; 1994; WS94, "ПЛА94", "ИРЕАН94", "АДА94"}
	{ rank = same; 1995; WS95, "КРДМС95", LO95, "ИРЕАН95", "КРАС", "ФАК", "СКТ", IO,"РКАС"}
	{ rank = same; 1997; "АДА97"}
	{ rank = same; 1998; SWU98, SWS98, "МежРП", "МРП98"}
	{ rank = same; 1999; SWU99} 
	{ rank = same; 2000; "Соцсопр" }
	{ rank = same; 2001; "МРП01" }
	{ rank = same; 2002; "РРП02", "АД" }
	{ rank = same; 2003; "РД", "РРПМ", "РРПП" }
	{ rank = same; 2004; "РД04", "ДСПА", "МРП(б)"}
	{ rank = same; 2005; SS05, "Вперед", MT, "МГРД", IO05 }
	{ rank = same; 2006; SS06, "РРПП06", "РРПМ06", "МГРД06", RA, "АД06"}
	{ rank = same; 2007; CI, WM, "ПДП07"}
	{ rank = same; 2008; SS08, "ПЛА08", "КРАС08"}
	{ rank = same; 2009; SS09, CWI09}
	{ rank = same; 2010; "РРПП10", "МежРП10", "Аврора",  "РКАС10"}
	{ rank = same; 2011; "РСД", "МГРД11", WM11, "МОК", "МСА", "АДА11"}
	{ rank = same; 2012; "ДСПА12", ClP , "СКП-КПСС", "МРП12", "АД12"}
	{ rank = same; 2013; CSM, "экс-ДСПА", "РРП13", "АД13", "АДСР" }
	{ rank = same; 2014; ClP14, "ОКП", "РКАС14" }
	{ rank = same; 2015; CWI15, "РСД15", "АДСР15"}
	{ rank = same; 2016; MT16, CWI16, "РСД16", WP, P21, CSM16, RA16, "Аврора16", "ОКП16", "РРП16", "АД16", "НС", "КРАС16"}

	subgraph clusterDS {
		color=blue;
		label="Демократический союз"
		{node [shape=box];
			CP 
		}
	};

	subgraph clusterCWI {
		color=red;
		label="КРИ";
		{node [shape=box];
			"КРДМС" ->  "КРДМС92" -> "КРИ" -> "Соцсопр" -> SS04 -> SS05 -> SS06 -> SS08 -> CWI09 ->
			CWI15 -> CWI16
		}
	};
	node [shape=box]
	SS04 -> "Вперед" -> "РСД" -> "РСД15" -> "РСД16";
	CI -> SS08;
	RA -> SS08 -> SS09  -> "РСД" ;
	RA [label="Революционная\n Альтернатива"];
	"КРДМС", "КРДМС92", "КРДМС93", "КРДМС95" [label="Комитет за\n Рабочую демократию и\n международный социализм"]; 
	"Соцсопр", SS04, SS05, SS06, SS08, SS09 [label="Социалистическое\n  сопротивление"];
	"КРИ", CWI09, CWI15, CWI16 [label="Комитет за\n Рабочий\n интернационал"];

	subgraph clusterMMT {
		color=red;
		label="КМИ/ММТ";
		URL="http://marxist.com"
		{node [shape=box];
			"РРП" -> "РРП02" -> "РД"-> "РД04" -> MT ->
			MT16
		}
	};
	"РД", "РД04" [label="Рабочая\n демократия"];
	MT, MT16 [label="Марксистская\n тенденция"];
	MT, MT16 [URL="http://1917.com"];
	
	subgraph clusterLO {
		color=red;
		label="UCI\nLutte ouvrière";
		{node [shape=box];
			"РПЯ", "РПЯ91", "LO95" 
		}
	};

	subgraph clusterSWP {
		color=red;
		label="SWP";
		{node [shape=box];
			"РПЯ92" -> "РПЯ93"
		}
	};
	subgraph clusterMWD {
		color=red;
		style=dashed;
		label="Движение за рабочую демократию";
		{node [shape=box];
			SS06, "РРПП06", "РРПМ06", "МГРД06", RA 
		}
	};
	subgraph clusterNBP {
		color=black;
		label="НБП";
		{node [shape=box];
			WS95, WS97 
		}
	};
	subgraph clusterIV {
		color=red;
		label="Рабочий интернационал\n за возрождение\n IV интернационала";
		{node [shape=box]; OKIV -> SWS -> SWS98}
	};
	subgraph clusterIWP {
		color=red;
		label="Международная\n лига трудящихся —\n IV интернационал";
		{node [shape=box]; "МежРП", "МежРП10"}
	};

	subgraph clusterIAF {
		color=black;
		label="IAF-IFA\nИнтернационал\n Федераций\n Анархистов";
		style=dashed;
		{node [shape=box]; "АДА97", "АДА11", "ПЛА08"}
	};

	subgraph clusterMAT {
		color=black;
		label="Международная\n ассоциация\n трудящихся";
		style=dashed;
		{node [shape=box]; "КРАС","КРАС08", "КРАС16"}
	};

	/* Госкаповцы */
	UM [label="Союз\nМарксистов"];
	"ПДП", "ПДП92", "ПДП07" [label="Партия\nДиктатуры\nПролетариата"];
	"МРП/ПДП" [label="Марксистская рабочая партия\nПартия Диктатуры пролетариата"];
	{UM, "ПДП", CPWP} -> "МРП/ПДП" -> {"МРП", "РПДП", "ДРП"};
	"РПДП" -> "ПДП92" -> "ПДП07";
	"МРП" -> {"РП", "РРПДП"};
	"ДРП" [label="Демократическая\nрабочая партия\n (марксистская)"];
	"МРП", "МРП93", "МРП96", "МРП98", "МРП01", "МРП12" [label="Марксистская\nрабочая\nпартия"];
	"МежРП","МежРП10" [label="Международная\nрабочая\nпартия"];
	"РП" [label="Рабочая\nпартия"];
	"РРПДП" [label="Революционная\nРабочая партия\n Диктатуры пролетариата"];
	"РПДП"[label="Рабочая партия\n Диктатуры\n пролетариата"];
	"РП" -> "МРП93" -> "МРП96" -> {"МРП98", "МежРП"};
	"МРП98" -> "МРП01"-> {"МРП(б)", "МРП12"};
	"МежРП" -> "МежРП10" -> "РСД";
	CPWP [label="Коммунистическая\nПартия\пРабочего\nПролетариата"];

	/* Троцкисты */
	"ДРП" -> "КРДМС93";
	CP -> "КРДМС";
	CP  [label="Коммунистическая\n платформа"];
	SWS, SWS98 [label="Социалистический\n рабочий союз"];
	OKIV  [label="ОК за советскую\n секцию IV\n интернационала"];
	WS94 -> "КРДМС95";
	"РРП02" -> "РРПП" -> "РРПП06" -> "РРПП10" -> "РСД";
	"РД04" -> "МГРД" -> "МГРД06" -> "МГРД11";
	"МГРД11", "ДСПА12", "ПДП07", "МРП12" [shape="ellipse"];
	"МГРД" -> WM -> WM11;
	"КРДМС92" -> "КРДМС93" ->"КРДМС95" -> "РРП";
	"РРП02"	-> "РРПМ" -> "РРПМ06" -> "РРП13";
	"РРП02", "РРПМ", "РРПМ06", "РРП", "РРП16", "РРП13", "РРП16" [label="Революционная\n рабочая\n партия"]; 
	"РРПП", "РРПП06", "РРПП10"  [label="Революционная\n рабочая\n партия (Пермь)"];
	"РРПП06" -> CI;
	WM11 -> "РСД" [style=dotted];
	WM11 -> ClP  [style=dotted];
	ClP -> ClP14;
	ClP, ClP14 [label="Классовая\n Политика"] ;
	"МГРД", "МГРД06", "МГРД11" [label="Марксистская группа\n«Рабочая демократия»"];
	"РСД15" -> WP;
	WP [label="Рабочая\nплатформа"];
	"РСД", "РСД15", "РСД16" [label="Российское\nСоциалистическое\nдвижение"];
	CWI15 -> P21;
	P21 [label="Марксистская\nГруппа XXI"];
	SWU98, SWU99 [label="Социалистический\n Рабочий Союз"]

	/* Жвания */
	"АКРС" -> "РПЯ" -> "РПЯ91" -> "РПЯ92";
	"РПЯ", "РПЯ91", "РПЯ92", "РПЯ93" [label="Революционные\n Пролетарские\n ячейки"];
	"РПЯ93" -> WS94 -> WS95 -> WS97 -> SWU98 -> SWU99;
	WS94 -> LO95 -> "РРП";
	SWU99 -> "ДСПА" [style=dotted];
	"ДСПА" -> "ДСПА12";
	"ДСПА12" -> CSM [style=dotted];
	 CSM -> CSM16;
	"ДСПА12" -> "экс-ДСПА" [style=dotted];
	"экс-ДСПА" -> RA16;
	CSM, CSM16 [label="Комиссариат\nСоциальной\nМобилизации"];
	LO95, WS94, WS95, WS97 [label="Рабочая\n борьба"];
	"ДСПА",	"ДСПА12" [label="Движение сопротивления\n Петра Алексеева"];

	/* Отколы от КПРФ */
	{"МОК", "СКП-КПСС", "РРП13", "Аврора"} -> "ОКП";
	"ОКП","ОКП16"  [label="Объединенная\n коммунистическая\n партия"];
	"ОКП" -> {"РРП16", "ОКП16", "Аврора16"};
	"Аврора", "Аврора16" [label="Движение\n«Аврора»"];
	"МОК" [label="Межрегиональное\n объединение\n коммунистов"];
	CI [label="Коммунистическая\n инициатива"];
	RA, RA16 [label="Революционная\n Альтернатива"];
	WM, WM11 [label="Движение\n Трудящихся"];

	/* Анархисты */
	"АДА93" -> {"АДА94", "ПЛА94"};
	{"МАКИ", "ДРСА"} -> "АДА91";
	"АДА94" -> "АДА97" -> "АДА11";
	"ПЛА94" -> "ПЛА08";
	"АССА" -> {"КАС", "АКРС"};
	SCI -> "КАС";
	"ФСОК" -> "СНС" -> "КАС" -> {"АДС", "АДА", "ИРЕАН", "СКТ", IO};
	IO -> IO05 -> "АД06";
	"СКТ" -> "СКТ16"
	"ИРЕАН" ->"ИРЕАН94" -> {"ИРЕАН95", "КРАС"};
	"КРАС" -> "КРАС08" -> "КРАС16";
	"АДА" -> "АДА91" -> "АДА93";
	"АДС" -> "СВТ";
	"ФАД" -> "РКАС" -> "РКАС10" ->{ "МСА", "РКАС14"};
	"СРАМ" -> "ФАК" -> "ФАК01";
	{"ФАК01", "ХР"} -> "АД";
	"АДА", "АДА91", "АДА93", "АДА94", "АДА97", "АДА11" [label="Ассоциация\n Движений\n Анархистов"];
	"АССА", "АССА89" [label="Анархо-синдикалистская\n свободная ассоциация"];
	"АКРС"[label="Анархо-Коммунистический\n Революционный союз"];
	"ПЛА94", "ПЛА08" [label="Питерская\n лига\n анархистов"];
	"ФАК", "ФАК01" [label="Федерация\n анархистов\n Кубани"];
	"СКТ", "СКТ16" [label="Сибирская\n конфедерация\n труда"];
	"КАС" [label="Конфедерация\n Анархо-синдикалистов"];
	SCI [label="Социалистический\n клуб (Иркутск)"];
    IO, IO05 [label="Иркутская\n организация\n КАС"];
	"ХР" [label="Хранители\nрадуги"];
	"ФАД" [label="Федерация\n Анархистов\n Донбасса"];
	"РКАС", "РКАС10", "РКАС14" [label="Революционная\n конфедерация\n анархо-синдикалистов"];
	"МСА" [label="Международный\n Союз\n Анархистов"];
	"СРАМ" [label="Союз Радикальной\n Анархической\n Молодежи"];
	"СВТ" [label="Союз вольных\n тружеников"];
	"ИРЕАН", "ИРЕАН94", "ИРЕАН95" [label="Инициативы\n революционных\n анархистов\n (ИРЕАН)"];
	"ИРЕАН95", "АДА11", WM11, ClP14, SWS98, "ПЛА08", "РКАС14" [shape="ellipse"];
	"СНС" [label="Союз\n Независимых\n Социалистов"];
	"МАКИ" [label="Маргинально-\nанархические\n контр-инициативы"];
	"ДРСА" [label="Движение\n революционных\n социалистических\n анархистов"];
    "АДС" [label="Анархо-демократический\n союз (АДС-КАС)"];
	"КРАС","КРАС08", "КРАС16" [label="Конфедерация\n революционных\n анархо-синдикалистов"];
	"ФСОК" [label="Федерация\n Социалистических\n Общественных Клубов"];
	"АД" -> "АД06" -> "АД12" -> {"АД13", "АДСР"};
	"АД13" -> "АД16";
	"АДСР" -> "АДСР15" -> {"НС", RA16};
	"АД", "АД06", "АД12", "АД13", "АД16"  [label="Автономное\nдействие"];
	"АДСР", "АДСР15" [label="Автономное действие\n(Социал-Революционное)"];
	"НС" [label="Народная\n Самооборона"];
}
